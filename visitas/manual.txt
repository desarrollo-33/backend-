Middleware para contar las visitas:

javascript

app.use((req, res, next) => {
    contadorVisitas += 1;
    console.log(`Visitas número ${contadorVisitas}`);
    next();
});

Este middleware se ejecuta para cada solicitud que llega al servidor. Incrementa el contador de visitas y muestra un mensaje en la consola indicando el número actual de visitas. Luego, llama a la función next() para pasar al siguiente middleware o ruta.

Ruta principal (GET /):

javascript

app.get('/', (req, res) => {
    res.send(`¡Bienvenido! Este sitio ha sido visitado ${contadorVisitas} veces.`);
});

Esta ruta responde con un mensaje que incluye el número total de visitas al acceder a la página de inicio.

Inicio del servidor:

javascript

    app.listen(puerto, () => {
        console.log(`Servidor escuchando en http://localhost:${puerto}`);
    });

    La aplicación inicia el servidor y comienza a escuchar en el puerto especificado.

En resumen, este código demuestra cómo utilizar middleware en E
xpress para realizar acciones adicionales en cada solicitud, 
en este caso, contar el número de visitas. La ruta principal 
luego responde con un mensaje que incluye la información de 
las visitas.






















































































































































































































































